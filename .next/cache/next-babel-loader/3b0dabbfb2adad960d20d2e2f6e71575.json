{"ast":null,"code":"var _jsxFileName = \"/home/hguruman/WORK/gents/tgs/src/components/Product/index.js\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from \"react\";\nimport Link from \"next/link\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport ReactTooltip from \"react-tooltip\";\nimport classNames from \"classnames\";\nimport Rate from \"../Other/Rate\";\nimport Button from \"../Control/Button\";\nimport Modal from \"../Control/Modal\";\nimport ProductQuickView from \"../ProductDetail/ProductQuickView\";\nimport { formatCurrency } from \"../../common/utils\";\nimport { checkProductInWishList, checkProductInCart } from \"../../common/shopUtils\";\nimport { addToCart } from \"../../redux/actions/cartActions\";\nimport { addToWishlist, removeFromWishlist } from \"../../redux/actions/wishlistActions\";\nimport AddToCart from \"../Control/AddToCart\";\n\nfunction Product({\n  data,\n  type,\n  className\n}) {\n  const dispatch = useDispatch();\n  const cartState = useSelector(state => state.cartReducer);\n  const wishlistData = useSelector(state => state.wishlistReducer);\n  const {\n    0: showQuickView,\n    1: setShowQuickView\n  } = useState(false);\n  const {\n    0: otherColor,\n    1: setOtherColor\n  } = useState();\n  const percentDiscount = data.discount ? Math.ceil(100 - 100 * data.discount / data.price) : null;\n\n  function renderType() {\n    if (data.new) {\n      return __jsx(\"h5\", {\n        className: \"-new\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 14\n        }\n      }, \"New\");\n    }\n\n    if (data.discount && typeof data.discount === \"number\") {\n      return __jsx(\"h5\", {\n        className: \"-sale\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 38,\n          columnNumber: 14\n        }\n      }, \"-\", percentDiscount, \"%\");\n    }\n\n    return null;\n  }\n\n  const addToCartHandle = e => {\n    e.preventDefault();\n    let productItem = checkProductInCart(cartState, data.id);\n\n    if (!productItem && data.quantity > 0) {\n      dispatch(addToCart(data, 1, otherColor && otherColor.color));\n      return toast.success(\"Product added to cart !\");\n    }\n  };\n\n  const addToWishlistHandle = e => {\n    e.preventDefault();\n    const wishlistItem = checkProductInWishList(wishlistData, data.id);\n    dispatch(addToWishlist(data));\n    toast.dismiss();\n\n    if (!wishlistItem) {\n      return toast.success(\"Product added to wishlist !\");\n    } else {\n      return toast.error(\"Product removed from wishlist !\");\n    }\n  };\n\n  return __jsx(React.Fragment, null, !type || type === \"grid\" ? __jsx(\"div\", {\n    className: `product ${classNames(className)}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"product-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 11\n    }\n  }, renderType()), __jsx(\"div\", {\n    className: \"product__thumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, __jsx(Link, {\n    href: `${process.env.PUBLIC_URL}/shop/product/[slug]`,\n    as: `${process.env.PUBLIC_URL}/shop/product/${data.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    className: \"product__thumb__image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 15\n    }\n  }, data.thumbImage.map((img, index) => __jsx(\"img\", {\n    key: index,\n    src: process.env.PUBLIC_URL + img,\n    alt: \"Product image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 19\n    }\n  })), otherColor && __jsx(\"img\", {\n    src: otherColor.image,\n    alt: \"Product image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 19\n    }\n  }))), __jsx(\"div\", {\n    className: \"product__thumb__actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"product-btn\",\n    \"data-tip\": true,\n    \"data-for\": \"cartIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    height: \"50px\",\n    width: \"50px\",\n    color: \"white\",\n    className: `product__actions__item -round ${classNames({\n      \"active -disable\": checkProductInCart(cartState, data.id) || data.quantity < 1\n    })}\n                  `,\n    action: \"#\",\n    onClick: addToCartHandle,\n    content: __jsx(\"i\", {\n      className: \"fas fa-shopping-bag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 28\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  })), __jsx(ReactTooltip, {\n    id: \"cartIcon\",\n    type: \"dark\",\n    effect: \"solid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"Add to Cart\")), __jsx(\"div\", {\n    className: \"product-btn\",\n    \"data-tip\": true,\n    \"data-for\": \"qvIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    height: 50 / 14 + \"em\",\n    width: 50 / 14 + \"em\",\n    color: \"white\",\n    className: \"product__actions__item -round\",\n    action: \"#\",\n    onClick: e => {\n      e.preventDefault();\n      setShowQuickView(true);\n    },\n    content: __jsx(\"i\", {\n      className: \"fas fa-eye\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 28\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 17\n    }\n  })), __jsx(ReactTooltip, {\n    id: \"qvIcon\",\n    type: \"dark\",\n    effect: \"solid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 17\n    }\n  }, \"Quick view\")), __jsx(\"div\", {\n    className: \"product-btn\",\n    \"data-tip\": true,\n    \"data-for\": \"wlIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 15\n    }\n  }, __jsx(Button, {\n    height: 50 / 14 + \"em\",\n    width: 50 / 14 + \"em\",\n    color: \"white\",\n    className: `product__actions__item -round ${classNames({\n      active: checkProductInWishList(wishlistData, data.id)\n    })}`,\n    action: \"#\",\n    onClick: addToWishlistHandle,\n    content: __jsx(\"i\", {\n      className: \"fas fa-heart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 28\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  })), __jsx(ReactTooltip, {\n    id: \"wlIcon\",\n    type: \"dark\",\n    effect: \"solid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 15\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 17\n    }\n  }, \"Add to Wishlist\")))), __jsx(\"div\", {\n    className: \"product__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"product__content__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 13\n    }\n  }, __jsx(\"h5\", {\n    className: \"product-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 15\n    }\n  }, data.category), __jsx(Rate, {\n    currentRate: data.rate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 15\n    }\n  })), __jsx(Link, {\n    href: `${process.env.PUBLIC_URL}/shop/product/[slug]`,\n    as: `${process.env.PUBLIC_URL}/shop/product/${data.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    className: \"product-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 15\n    }\n  }, data.name)), __jsx(\"div\", {\n    className: \"product__content__footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, __jsx(\"h5\", {\n    className: \"product-price--main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 15\n    }\n  }, data.discount ? formatCurrency(data.discount) : formatCurrency(data.price)), data.discount && __jsx(\"h5\", {\n    className: \"product-price--discount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 17\n    }\n  }, formatCurrency(data.price)), data.variation && __jsx(\"div\", {\n    className: \"product-colors\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 17\n    }\n  }, data.variation.map((color, index) => __jsx(\"div\", {\n    key: index,\n    className: `product-colors__item ${classNames({\n      active: otherColor && otherColor.colorCode === color.colorCode\n    })}`,\n    style: {\n      backgroundColor: color.colorCode\n    },\n    onClick: () => setOtherColor(color),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 21\n    }\n  })))))) : __jsx(\"div\", {\n    className: `product-list ${classNames(className)}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"product-list__thumb\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 183,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"product-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 13\n    }\n  }, renderType()), __jsx(Link, {\n    href: `${process.env.PUBLIC_URL}/shop/product/[slug]`,\n    as: `${process.env.PUBLIC_URL}/shop/product/${data.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 13\n    }\n  }, __jsx(\"a\", {\n    className: \"product-list__thumb__image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 15\n    }\n  }, data.thumbImage.map((img, index) => __jsx(\"img\", {\n    key: index,\n    src: process.env.PUBLIC_URL + img,\n    alt: \"Product image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 19\n    }\n  })), otherColor && __jsx(\"img\", {\n    src: otherColor.image,\n    alt: \"Product image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 19\n    }\n  })))), __jsx(\"div\", {\n    className: \"product-list__content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 11\n    }\n  }, __jsx(\"div\", {\n    className: \"product-list__content__top\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"product-category__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 15\n    }\n  }, __jsx(\"h5\", {\n    className: \"product-category\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 17\n    }\n  }, data.category), __jsx(Rate, {\n    currentRate: data.rate,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 17\n    }\n  })), __jsx(Link, {\n    href: `${process.env.PUBLIC_URL}/shop/product/[slug]`,\n    as: `${process.env.PUBLIC_URL}/shop/product/${data.slug}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 209,\n      columnNumber: 15\n    }\n  }, __jsx(\"a\", {\n    className: \"product-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 17\n    }\n  }, data.name)), __jsx(\"div\", {\n    className: \"product__price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"product__price__wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 17\n    }\n  }, __jsx(\"h5\", {\n    className: \"product-price--main\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 19\n    }\n  }, data.discount ? formatCurrency(data.discount) : formatCurrency(data.price)), data.discount && __jsx(\"h5\", {\n    className: \"product-price--discount\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 21\n    }\n  }, formatCurrency(data.price))), data.variation && __jsx(\"div\", {\n    className: \"product-colors\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 19\n    }\n  }, data.variation.map((color, index) => __jsx(\"div\", {\n    key: index,\n    className: `product-colors__item ${otherColor && otherColor.colorCode === color.colorCode ? \"active\" : \"\"}`,\n    style: {\n      backgroundColor: color.colorCode\n    },\n    onClick: () => setOtherColor(color),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 23\n    }\n  }))))), __jsx(\"div\", {\n    className: \"product-list__content__bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 13\n    }\n  }, __jsx(\"p\", {\n    className: \"product-description\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 15\n    }\n  }, \"Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque ipsa fugiat accusantium reiciendis rem doloribus iste doloremque\"), __jsx(\"div\", {\n    className: \"product__actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 251,\n      columnNumber: 15\n    }\n  }, __jsx(\"div\", {\n    className: \"product-btn\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 252,\n      columnNumber: 17\n    }\n  }, __jsx(AddToCart, {\n    onClick: addToCartHandle,\n    className: classNames({\n      \"-disable\": checkProductInCart(cartState, data.id) || data.quantity < 1\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 19\n    }\n  })), __jsx(\"div\", {\n    className: \"product-btn\",\n    \"data-tip\": true,\n    \"data-for\": \"l-qvIcon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    height: 50 / 14 + \"em\",\n    width: 50 / 14 + \"em\",\n    color: \"white\",\n    className: \"product__actions__item -round\",\n    action: \"#\",\n    onClick: e => {\n      e.preventDefault();\n      setShowQuickView(true);\n    },\n    content: __jsx(\"i\", {\n      className: \"fas fa-eye\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273,\n        columnNumber: 30\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 19\n    }\n  })), __jsx(ReactTooltip, {\n    id: \"l-qvIcon\",\n    type: \"dark\",\n    effect: \"solid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 277,\n      columnNumber: 19\n    }\n  }, \"Quick view\")), __jsx(\"div\", {\n    className: \"product-btn\",\n    \"data-tip\": true,\n    \"data-for\": \"l-wlIcon\",\n    style: {\n      marginRight: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 279,\n      columnNumber: 17\n    }\n  }, __jsx(Button, {\n    height: 50 / 14 + \"em\",\n    width: 50 / 14 + \"em\",\n    color: \"white\",\n    className: `product__actions__item -round ${classNames({\n      active: checkProductInWishList(wishlistData, data.id)\n    })}`,\n    action: \"#\",\n    onClick: addToWishlistHandle,\n    content: __jsx(\"i\", {\n      className: \"fas fa-heart\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 30\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 285,\n      columnNumber: 19\n    }\n  })), __jsx(ReactTooltip, {\n    id: \"l-wlIcon\",\n    type: \"dark\",\n    effect: \"solid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 17\n    }\n  }, __jsx(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 19\n    }\n  }, \"Add to Wishlist\")))))), __jsx(Modal, {\n    showModal: showQuickView,\n    setShowModal: setShowQuickView,\n    width: 1170,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }\n  }, __jsx(ProductQuickView, {\n    data: data,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 310,\n      columnNumber: 9\n    }\n  })));\n}\n\nexport default Product;","map":{"version":3,"sources":["/home/hguruman/WORK/gents/tgs/src/components/Product/index.js"],"names":["React","useState","useEffect","Link","useSelector","useDispatch","toast","ReactTooltip","classNames","Rate","Button","Modal","ProductQuickView","formatCurrency","checkProductInWishList","checkProductInCart","addToCart","addToWishlist","removeFromWishlist","AddToCart","Product","data","type","className","dispatch","cartState","state","cartReducer","wishlistData","wishlistReducer","showQuickView","setShowQuickView","otherColor","setOtherColor","percentDiscount","discount","Math","ceil","price","renderType","new","addToCartHandle","e","preventDefault","productItem","id","quantity","color","success","addToWishlistHandle","wishlistItem","dismiss","error","process","env","PUBLIC_URL","slug","thumbImage","map","img","index","image","active","category","rate","name","variation","colorCode","backgroundColor","marginRight"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport ReactTooltip from \"react-tooltip\";\r\nimport classNames from \"classnames\";\r\n\r\nimport Rate from \"../Other/Rate\";\r\nimport Button from \"../Control/Button\";\r\nimport Modal from \"../Control/Modal\";\r\nimport ProductQuickView from \"../ProductDetail/ProductQuickView\";\r\nimport { formatCurrency } from \"../../common/utils\";\r\nimport {\r\n  checkProductInWishList,\r\n  checkProductInCart,\r\n} from \"../../common/shopUtils\";\r\nimport { addToCart } from \"../../redux/actions/cartActions\";\r\nimport {\r\n  addToWishlist,\r\n  removeFromWishlist,\r\n} from \"../../redux/actions/wishlistActions\";\r\nimport AddToCart from \"../Control/AddToCart\";\r\n\r\nfunction Product({ data, type, className }) {\r\n  const dispatch = useDispatch();\r\n  const cartState = useSelector((state) => state.cartReducer);\r\n  const wishlistData = useSelector((state) => state.wishlistReducer);\r\n  const [showQuickView, setShowQuickView] = useState(false);\r\n  const [otherColor, setOtherColor] = useState();\r\n  const percentDiscount = data.discount\r\n    ? Math.ceil(100 - (100 * data.discount) / data.price)\r\n    : null;\r\n  function renderType() {\r\n    if (data.new) {\r\n      return <h5 className=\"-new\">New</h5>;\r\n    }\r\n    if (data.discount && typeof data.discount === \"number\") {\r\n      return <h5 className=\"-sale\">-{percentDiscount}%</h5>;\r\n    }\r\n    return null;\r\n  }\r\n  const addToCartHandle = (e) => {\r\n    e.preventDefault();\r\n    let productItem = checkProductInCart(cartState, data.id);\r\n    if (!productItem && data.quantity > 0) {\r\n      dispatch(addToCart(data, 1, otherColor && otherColor.color));\r\n      return toast.success(\"Product added to cart !\");\r\n    }\r\n  };\r\n  const addToWishlistHandle = (e) => {\r\n    e.preventDefault();\r\n    const wishlistItem = checkProductInWishList(wishlistData, data.id);\r\n    dispatch(addToWishlist(data));\r\n    toast.dismiss();\r\n    if (!wishlistItem) {\r\n      return toast.success(\"Product added to wishlist !\");\r\n    } else {\r\n      return toast.error(\"Product removed from wishlist !\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {!type || type === \"grid\" ? (\r\n        <div className={`product ${classNames(className)}`}>\r\n          <div className=\"product-type\">{renderType()}</div>\r\n          <div className=\"product__thumb\">\r\n            <Link\r\n              href={`${process.env.PUBLIC_URL}/shop/product/[slug]`}\r\n              as={`${process.env.PUBLIC_URL}/shop/product/${data.slug}`}\r\n            >\r\n              <a className=\"product__thumb__image\">\r\n                {data.thumbImage.map((img, index) => (\r\n                  <img\r\n                    key={index}\r\n                    src={process.env.PUBLIC_URL + img}\r\n                    alt=\"Product image\"\r\n                  />\r\n                ))}\r\n                {otherColor && (\r\n                  <img src={otherColor.image} alt=\"Product image\" />\r\n                )}\r\n              </a>\r\n            </Link>\r\n            <div className=\"product__thumb__actions\">\r\n              <div className=\"product-btn\" data-tip data-for=\"cartIcon\">\r\n                <Button\r\n                  height=\"50px\"\r\n                  width=\"50px\"\r\n                  color=\"white\"\r\n                  className={`product__actions__item -round ${classNames({\r\n                    \"active -disable\":\r\n                      checkProductInCart(cartState, data.id) ||\r\n                      data.quantity < 1,\r\n                  })}\r\n                  `}\r\n                  action=\"#\"\r\n                  onClick={addToCartHandle}\r\n                  content={<i className=\"fas fa-shopping-bag\" />}\r\n                ></Button>\r\n              </div>\r\n              <ReactTooltip id=\"cartIcon\" type=\"dark\" effect=\"solid\">\r\n                <span>Add to Cart</span>\r\n              </ReactTooltip>\r\n              <div className=\"product-btn\" data-tip data-for=\"qvIcon\">\r\n                <Button\r\n                  height={50 / 14 + \"em\"}\r\n                  width={50 / 14 + \"em\"}\r\n                  color=\"white\"\r\n                  className=\"product__actions__item -round\"\r\n                  action=\"#\"\r\n                  onClick={(e) => {\r\n                    e.preventDefault();\r\n                    setShowQuickView(true);\r\n                  }}\r\n                  content={<i className=\"fas fa-eye\" />}\r\n                ></Button>\r\n              </div>\r\n              <ReactTooltip id=\"qvIcon\" type=\"dark\" effect=\"solid\">\r\n                <span>Quick view</span>\r\n              </ReactTooltip>\r\n              <div className=\"product-btn\" data-tip data-for=\"wlIcon\">\r\n                <Button\r\n                  height={50 / 14 + \"em\"}\r\n                  width={50 / 14 + \"em\"}\r\n                  color=\"white\"\r\n                  className={`product__actions__item -round ${classNames({\r\n                    active: checkProductInWishList(wishlistData, data.id),\r\n                  })}`}\r\n                  action=\"#\"\r\n                  onClick={addToWishlistHandle}\r\n                  content={<i className=\"fas fa-heart\" />}\r\n                ></Button>\r\n              </div>\r\n              <ReactTooltip id=\"wlIcon\" type=\"dark\" effect=\"solid\">\r\n                <span>Add to Wishlist</span>\r\n              </ReactTooltip>\r\n            </div>\r\n          </div>\r\n          <div className=\"product__content\">\r\n            <div className=\"product__content__header\">\r\n              <h5 className=\"product-category\">{data.category}</h5>\r\n              <Rate currentRate={data.rate} />\r\n            </div>\r\n            <Link\r\n              href={`${process.env.PUBLIC_URL}/shop/product/[slug]`}\r\n              as={`${process.env.PUBLIC_URL}/shop/product/${data.slug}`}\r\n            >\r\n              <a className=\"product-name\">{data.name}</a>\r\n            </Link>\r\n            <div className=\"product__content__footer\">\r\n              <h5 className=\"product-price--main\">\r\n                {data.discount\r\n                  ? formatCurrency(data.discount)\r\n                  : formatCurrency(data.price)}\r\n              </h5>\r\n              {data.discount && (\r\n                <h5 className=\"product-price--discount\">\r\n                  {formatCurrency(data.price)}\r\n                </h5>\r\n              )}\r\n              {data.variation && (\r\n                <div className=\"product-colors\">\r\n                  {data.variation.map((color, index) => (\r\n                    <div\r\n                      key={index}\r\n                      className={`product-colors__item ${classNames({\r\n                        active:\r\n                          otherColor &&\r\n                          otherColor.colorCode === color.colorCode,\r\n                      })}`}\r\n                      style={{ backgroundColor: color.colorCode }}\r\n                      onClick={() => setOtherColor(color)}\r\n                    />\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div className={`product-list ${classNames(className)}`}>\r\n          <div className=\"product-list__thumb\">\r\n            <div className=\"product-type\">{renderType()}</div>\r\n            <Link\r\n              href={`${process.env.PUBLIC_URL}/shop/product/[slug]`}\r\n              as={`${process.env.PUBLIC_URL}/shop/product/${data.slug}`}\r\n            >\r\n              <a className=\"product-list__thumb__image\">\r\n                {data.thumbImage.map((img, index) => (\r\n                  <img\r\n                    key={index}\r\n                    src={process.env.PUBLIC_URL + img}\r\n                    alt=\"Product image\"\r\n                  />\r\n                ))}\r\n                {otherColor && (\r\n                  <img src={otherColor.image} alt=\"Product image\" />\r\n                )}\r\n              </a>\r\n            </Link>\r\n          </div>\r\n          <div className=\"product-list__content\">\r\n            <div className=\"product-list__content__top\">\r\n              <div className=\"product-category__wrapper\">\r\n                <h5 className=\"product-category\">{data.category}</h5>\r\n                <Rate currentRate={data.rate} />\r\n              </div>\r\n              <Link\r\n                href={`${process.env.PUBLIC_URL}/shop/product/[slug]`}\r\n                as={`${process.env.PUBLIC_URL}/shop/product/${data.slug}`}\r\n              >\r\n                <a className=\"product-name\">{data.name}</a>\r\n              </Link>\r\n              <div className=\"product__price\">\r\n                <div className=\"product__price__wrapper\">\r\n                  <h5 className=\"product-price--main\">\r\n                    {data.discount\r\n                      ? formatCurrency(data.discount)\r\n                      : formatCurrency(data.price)}\r\n                  </h5>\r\n                  {data.discount && (\r\n                    <h5 className=\"product-price--discount\">\r\n                      {formatCurrency(data.price)}\r\n                    </h5>\r\n                  )}\r\n                </div>\r\n                {data.variation && (\r\n                  <div className=\"product-colors\">\r\n                    {data.variation.map((color, index) => (\r\n                      <div\r\n                        key={index}\r\n                        className={`product-colors__item ${\r\n                          otherColor && otherColor.colorCode === color.colorCode\r\n                            ? \"active\"\r\n                            : \"\"\r\n                        }`}\r\n                        style={{ backgroundColor: color.colorCode }}\r\n                        onClick={() => setOtherColor(color)}\r\n                      />\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </div>\r\n            </div>\r\n            <div className=\"product-list__content__bottom\">\r\n              <p className=\"product-description\">\r\n                Lorem ipsum dolor sit amet consectetur adipisicing elit. Eaque\r\n                ipsa fugiat accusantium reiciendis rem doloribus iste doloremque\r\n              </p>\r\n              <div className=\"product__actions\">\r\n                <div className=\"product-btn\">\r\n                  <AddToCart\r\n                    onClick={addToCartHandle}\r\n                    className={classNames({\r\n                      \"-disable\":\r\n                        checkProductInCart(cartState, data.id) ||\r\n                        data.quantity < 1,\r\n                    })}\r\n                  />\r\n                </div>\r\n                <div className=\"product-btn\" data-tip data-for=\"l-qvIcon\">\r\n                  <Button\r\n                    height={50 / 14 + \"em\"}\r\n                    width={50 / 14 + \"em\"}\r\n                    color=\"white\"\r\n                    className=\"product__actions__item -round\"\r\n                    action=\"#\"\r\n                    onClick={(e) => {\r\n                      e.preventDefault();\r\n                      setShowQuickView(true);\r\n                    }}\r\n                    content={<i className=\"fas fa-eye\" />}\r\n                  ></Button>\r\n                </div>\r\n                <ReactTooltip id=\"l-qvIcon\" type=\"dark\" effect=\"solid\">\r\n                  <span>Quick view</span>\r\n                </ReactTooltip>\r\n                <div\r\n                  className=\"product-btn\"\r\n                  data-tip\r\n                  data-for=\"l-wlIcon\"\r\n                  style={{ marginRight: 0 }}\r\n                >\r\n                  <Button\r\n                    height={50 / 14 + \"em\"}\r\n                    width={50 / 14 + \"em\"}\r\n                    color=\"white\"\r\n                    className={`product__actions__item -round ${classNames({\r\n                      active: checkProductInWishList(wishlistData, data.id),\r\n                    })}`}\r\n                    action=\"#\"\r\n                    onClick={addToWishlistHandle}\r\n                    content={<i className=\"fas fa-heart\" />}\r\n                  ></Button>\r\n                </div>\r\n                <ReactTooltip id=\"l-wlIcon\" type=\"dark\" effect=\"solid\">\r\n                  <span>Add to Wishlist</span>\r\n                </ReactTooltip>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <Modal\r\n        showModal={showQuickView}\r\n        setShowModal={setShowQuickView}\r\n        width={1170}\r\n      >\r\n        <ProductQuickView data={data} />\r\n      </Modal>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default Product;\r\n"]},"metadata":{},"sourceType":"module"}
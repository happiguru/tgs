{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport { v4 as uuidv4 } from \"uuid\";\nimport { CART } from \"../variables\";\nvar initialState = [];\nexport default function cartReducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  var cartItem = state.find(function (item) {\n    return item.cartId === action.cartId;\n  });\n  var cartItemIndex = cartItem && state.indexOf(cartItem);\n\n  switch (action.type) {\n    case CART.ADD_TO_CART:\n      if (!action.product.variation || action.product.variation.length === 0) {\n        var addedCartItem = state.find(function (item) {\n          return item.id === action.product.id;\n        });\n        var addedCartItemIndex = addedCartItem && state.indexOf(addedCartItem);\n\n        if (!addedCartItem) {\n          return [].concat(_toConsumableArray(state), [_objectSpread(_objectSpread({}, action.product), {}, {\n            cartQuantity: action.quantity || 1,\n            cartId: uuidv4()\n          })]);\n        } else {\n          return [].concat(_toConsumableArray(state.slice(0, addedCartItemIndex)), [_objectSpread(_objectSpread({}, addedCartItem), {}, {\n            cartQuantity: action.quantity ? addedCartItem.cartQuantity + action.quantity : addedCartItem.cartQuantity + 1\n          })], _toConsumableArray(state.slice(addedCartItemIndex + 1)));\n        }\n      } else {\n        if (!action.color || action.color === \"\") {\n          var _addedCartItem = state.find(function (item) {\n            return item.id === action.product.id;\n          });\n\n          var _addedCartItemIndex = _addedCartItem && state.indexOf(_addedCartItem);\n\n          if (!_addedCartItem) {\n            return [].concat(_toConsumableArray(state), [_objectSpread(_objectSpread({}, action.product), {}, {\n              cartQuantity: action.quantity || 1,\n              cartId: uuidv4()\n            })]);\n          } else {\n            return [].concat(_toConsumableArray(state.slice(0, _addedCartItemIndex)), [_objectSpread(_objectSpread({}, _addedCartItem), {}, {\n              cartQuantity: action.quantity ? _addedCartItem.cartQuantity + action.quantity : _addedCartItem.cartQuantity + 1\n            })], _toConsumableArray(state.slice(_addedCartItemIndex + 1)));\n          }\n        } else {\n          var _addedCartItem2 = state.find(function (item) {\n            return item.id === action.product.id && item.selectedColor && item.selectedColor === action.color;\n          });\n\n          var _addedCartItemIndex2 = _addedCartItem2 && state.indexOf(_addedCartItem2);\n\n          if (!_addedCartItem2) {\n            return [].concat(_toConsumableArray(state), [_objectSpread(_objectSpread({}, action.product), {}, {\n              cartQuantity: action.quantity || 1,\n              selectedColor: action.color,\n              cartId: uuidv4()\n            })]);\n          } else {\n            return [].concat(_toConsumableArray(state.slice(0, _addedCartItemIndex2)), [_objectSpread(_objectSpread({}, _addedCartItem2), {}, {\n              cartQuantity: action.quantity ? _addedCartItem2.cartQuantity + action.quantity : _addedCartItem2.cartQuantity + 1\n            })], _toConsumableArray(state.slice(_addedCartItemIndex2 + 1)));\n          }\n        }\n      }\n\n    case CART.REMOVE_FROM_CART:\n      return [].concat(_toConsumableArray(state.slice(0, cartItemIndex)), _toConsumableArray(state.slice(cartItemIndex + 1)));\n\n    case CART.REMOVE_ALL_FROM_CART:\n      return [];\n\n    case CART.INCREASE_QUANTITY_CART:\n      return [].concat(_toConsumableArray(state.slice(0, cartItemIndex)), [_objectSpread(_objectSpread({}, cartItem), {}, {\n        cartQuantity: cartItem.cartQuantity + 1\n      })], _toConsumableArray(state.slice(cartItemIndex + 1)));\n\n    case CART.DECREASE_QUANTITY_CART:\n      if (cartItem.cartQuantity < 2) {\n        return;\n      }\n\n      return [].concat(_toConsumableArray(state.slice(0, cartItemIndex)), [_objectSpread(_objectSpread({}, cartItem), {}, {\n        cartQuantity: cartItem.cartQuantity - 1\n      })], _toConsumableArray(state.slice(cartItemIndex + 1)));\n\n    default:\n      return state;\n  }\n}","map":{"version":3,"sources":["/home/hguruman/WORK/gents/tgs/src/redux/reducers/cartReducer.js"],"names":["v4","uuidv4","CART","initialState","cartReducer","state","action","cartItem","find","item","cartId","cartItemIndex","indexOf","type","ADD_TO_CART","product","variation","length","addedCartItem","id","addedCartItemIndex","cartQuantity","quantity","slice","color","selectedColor","REMOVE_FROM_CART","REMOVE_ALL_FROM_CART","INCREASE_QUANTITY_CART","DECREASE_QUANTITY_CART"],"mappings":"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","sourcesContent":["import { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport { CART } from \"../variables\";\r\n\r\nconst initialState = [];\r\n\r\nexport default function cartReducer(state = initialState, action) {\r\n  const cartItem = state.find((item) => item.cartId === action.cartId);\r\n  const cartItemIndex = cartItem && state.indexOf(cartItem);\r\n  switch (action.type) {\r\n    case CART.ADD_TO_CART:\r\n      if (!action.product.variation || action.product.variation.length === 0) {\r\n        const addedCartItem = state.find(\r\n          (item) => item.id === action.product.id\r\n        );\r\n        const addedCartItemIndex =\r\n          addedCartItem && state.indexOf(addedCartItem);\r\n        if (!addedCartItem) {\r\n          return [\r\n            ...state,\r\n            {\r\n              ...action.product,\r\n              cartQuantity: action.quantity || 1,\r\n              cartId: uuidv4(),\r\n            },\r\n          ];\r\n        } else {\r\n          return [\r\n            ...state.slice(0, addedCartItemIndex),\r\n            {\r\n              ...addedCartItem,\r\n              cartQuantity: action.quantity\r\n                ? addedCartItem.cartQuantity + action.quantity\r\n                : addedCartItem.cartQuantity + 1,\r\n            },\r\n            ...state.slice(addedCartItemIndex + 1),\r\n          ];\r\n        }\r\n      } else {\r\n        if (!action.color || action.color === \"\") {\r\n          const addedCartItem = state.find(\r\n            (item) => item.id === action.product.id\r\n          );\r\n          const addedCartItemIndex =\r\n            addedCartItem && state.indexOf(addedCartItem);\r\n          if (!addedCartItem) {\r\n            return [\r\n              ...state,\r\n              {\r\n                ...action.product,\r\n                cartQuantity: action.quantity || 1,\r\n                cartId: uuidv4(),\r\n              },\r\n            ];\r\n          } else {\r\n            return [\r\n              ...state.slice(0, addedCartItemIndex),\r\n              {\r\n                ...addedCartItem,\r\n                cartQuantity: action.quantity\r\n                  ? addedCartItem.cartQuantity + action.quantity\r\n                  : addedCartItem.cartQuantity + 1,\r\n              },\r\n              ...state.slice(addedCartItemIndex + 1),\r\n            ];\r\n          }\r\n        } else {\r\n          const addedCartItem = state.find(\r\n            (item) =>\r\n              item.id === action.product.id &&\r\n              item.selectedColor &&\r\n              item.selectedColor === action.color\r\n          );\r\n          const addedCartItemIndex =\r\n            addedCartItem && state.indexOf(addedCartItem);\r\n          if (!addedCartItem) {\r\n            return [\r\n              ...state,\r\n              {\r\n                ...action.product,\r\n                cartQuantity: action.quantity || 1,\r\n                selectedColor: action.color,\r\n                cartId: uuidv4(),\r\n              },\r\n            ];\r\n          } else {\r\n            return [\r\n              ...state.slice(0, addedCartItemIndex),\r\n              {\r\n                ...addedCartItem,\r\n                cartQuantity: action.quantity\r\n                  ? addedCartItem.cartQuantity + action.quantity\r\n                  : addedCartItem.cartQuantity + 1,\r\n              },\r\n              ...state.slice(addedCartItemIndex + 1),\r\n            ];\r\n          }\r\n        }\r\n      }\r\n    case CART.REMOVE_FROM_CART:\r\n      return [\r\n        ...state.slice(0, cartItemIndex),\r\n        ...state.slice(cartItemIndex + 1),\r\n      ];\r\n    case CART.REMOVE_ALL_FROM_CART:\r\n      return [];\r\n    case CART.INCREASE_QUANTITY_CART:\r\n      return [\r\n        ...state.slice(0, cartItemIndex),\r\n        { ...cartItem, cartQuantity: cartItem.cartQuantity + 1 },\r\n        ...state.slice(cartItemIndex + 1),\r\n      ];\r\n    case CART.DECREASE_QUANTITY_CART:\r\n      if (cartItem.cartQuantity < 2) {\r\n        return;\r\n      }\r\n      return [\r\n        ...state.slice(0, cartItemIndex),\r\n        { ...cartItem, cartQuantity: cartItem.cartQuantity - 1 },\r\n        ...state.slice(cartItemIndex + 1),\r\n      ];\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}